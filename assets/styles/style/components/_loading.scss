.loading__screen {
  position: absolute;
  top: 0;
  left: 0;

  @include flex-y(center, center);
  height: 100%;
  width: 100%;

  visibility: visible;
  background: $colour-background;
  opacity: 1;

  animation: fadeOut 500ms 1 forwards 5000ms;

  p {
    margin-bottom: 30px;
    color: #333333;

    animation: colourSwap 200ms linear forwards 1;
    animation-delay: 4900ms;

    span {
      position: relative;
      top: 0;

      display: inline-block;
      margin-right: 10px;

      font-size: 50px;

      animation: sway 750ms linear infinite;

      &:last-child {
        margin-right: 0;
      }
    }

    @for $i from 1 to 40 {
      span:nth-child(#{$i}) {
        animation-delay: (#{$i * 0.05s});
      }
    }
  }

  .loading-container {
    position: relative;

    width: 300px;
    height: 35px;

    background: linear-gradient(45deg, $colour-primary, $colour-secondary);
    border-radius: 20px;

    overflow: hidden;

    animation: backgroundComplete 200ms linear forwards 1;
    animation-delay: 4900ms;

    &::before {
      content: "";
      position: absolute;
      top: 2px;
      left: 2px;

      height: 31px;
      width: 296px;

      background: $colour-background;
      border-radius: 20px;
      z-index: 1;
    }

    &::after {
      content: "";
      position: absolute;
      top: 2px;
      left: 2px;

      height: 31px;
      width: 296px;

      border: 4px solid $colour-background;
      border-radius: 20px;
      z-index: 3;
    }

    & > .loading-container__bar {
      content: "";
      position: absolute;
      top: 2px;
      left: 2px;

      width: 0px;
      height: 31px;

      background: linear-gradient(45deg, $colour-primary, $colour-secondary);

      animation: loading 5000ms cubic-bezier(0.1, 0.95, 0.2, 0.22) forwards 1;
      z-index: 2;
    }
  }
}

@keyframes throbbing {
  0% {
    opacity: 0.5;
    transform: scale(1);
  }

  20% {
    opacity: 1;
    transform: scale(1.05);
  }

  40% {
    opacity: 0.5;
    transform: scale(1);
  }

  60% {
    opacity: 1;
    transform: scale(1.05);
  }

  80% {
    opacity: 0.5;
    transform: scale(1);
  }

  100% {
    opacity: 0;
    transform: scale(0.75);
  }
}

@keyframes loading {
  98% {
    width: calc((296px / 95) * 100) px;
    background: linear-gradient(45deg, $colour-primary, $colour-secondary);
  }
  to {
    width: 296px;
    background: $colour-primary;
  }
}

@keyframes backgroundComplete {
  0% {
    transform: scale(1);
  }
  50% {
    background: $colour-primary;
    transform: scale(1.1);
  }
  100% {
    background: $colour-primary;
    transform: scale(1);
  }
}

@keyframes fadeOut {
  to {
    opacity: 0;
    pointer-events: none;
    visibility: none;
  }
}

@keyframes colourSwap {
  0% {
    transform: scale(1);
  }
  50% {
    color: $colour-primary;
    transform: scale(1.1);
  }
  100% {
    color: $colour-primary;
    transform: scale(1);
  }
}
